"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[592],{822:function(e,t,a){a.r(t),a.d(t,{default:function(){return AdminDashboard}});var s=a(7437),r=a(2265),n=a(4033),i=a(9598),l=a(7686),o=a(3611),c=a(4280),d=a(5790),m=a(6141),x=a(3505),u=a(4322),h=a(3673),f=a(2457),p=a(9409);function useWebSocket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{enabled:a=!0,reconnectInterval:s=5e3,reconnectAttempts:n=5,onOpen:i,onClose:l,onError:o,onMessage:c}=t,[d,m]=(0,r.useState)("closed"),[x,u]=(0,r.useState)(null),[h,f]=(0,r.useState)(0),p=(0,r.useRef)(null),g=(0,r.useRef)(null),j=(0,r.useRef)(0),b=(0,r.useCallback)(()=>{if(a)try{m("connecting"),p.current=new WebSocket(e),p.current.onopen=()=>{m("open"),j.current=0,null==i||i()},p.current.onclose=()=>{m("closed"),null==l||l(),a&&j.current<n&&(g.current=setTimeout(()=>{j.current+=1,f(j.current),b()},s))},p.current.onerror=e=>{m("error"),null==o||o(e)},p.current.onmessage=e=>{u(e),null==c||c(e)}}catch(e){m("error")}},[e,a,s,n,i,l,o,c]),y=(0,r.useCallback)(()=>{g.current&&(clearTimeout(g.current),g.current=null),p.current&&(p.current.close(),p.current=null),m("closed")},[]),v=(0,r.useCallback)(e=>{p.current&&"open"===d&&p.current.send(JSON.stringify(e))},[d]);return(0,r.useEffect)(()=>(a?b():y(),()=>{y()}),[a,b,y]),(0,r.useEffect)(()=>{a&&"connecting"!==d&&(y(),b())},[e]),{sendMessage:v,lastMessage:x,connectionStatus:d,reconnectAttempts:h}}function useAuth(){let e=(0,n.useRouter)(),[t,a]=(0,r.useState)({user:null,token:null,isLoading:!0,isAuthenticated:!1});(0,r.useEffect)(()=>{s()},[]);let s=(0,r.useCallback)(async()=>{try{let e=localStorage.getItem("adminToken"),t=localStorage.getItem("adminUser");if(e&&t){let s=JSON.parse(t),r=await fetch("/api/admin/auth/verify",{headers:{Authorization:"Bearer ".concat(e)}});r.ok?a({user:s,token:e,isLoading:!1,isAuthenticated:!0}):(localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),a({user:null,token:null,isLoading:!1,isAuthenticated:!1}))}else a(e=>({...e,isLoading:!1}))}catch(e){a(e=>({...e,isLoading:!1}))}},[]),i=(0,r.useCallback)(async e=>{try{let t=await fetch("/api/admin/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){let e=await t.json();return localStorage.setItem("adminToken",e.token),localStorage.setItem("adminUser",JSON.stringify(e.user)),a({user:e.user,token:e.token,isLoading:!1,isAuthenticated:!0}),!0}{let e=await t.json();throw Error(e.message||"Login failed")}}catch(e){return!1}},[]),l=(0,r.useCallback)(()=>{localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),a({user:null,token:null,isLoading:!1,isAuthenticated:!1}),e.push("/admin/login")},[e]),o=(0,r.useCallback)(e=>{localStorage.setItem("adminUser",JSON.stringify(e)),a(t=>({...t,user:e}))},[]),c=(0,r.useCallback)(async()=>{try{let e=localStorage.getItem("adminToken");if(!e)return!1;let t=await fetch("/api/admin/auth/refresh",{method:"POST",headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)return l(),!1;{let e=await t.json();return localStorage.setItem("adminToken",e.token),a(t=>({...t,token:e.token})),!0}}catch(e){return l(),!1}},[l]);return{...t,login:i,logout:l,updateUser:o,refreshToken:c}}var g=a(1628);function AdminDashboard(){let e=(0,n.useRouter)(),{user:t,isLoading:a}=useAuth(),[j,b]=(0,r.useState)(null),[y,v]=(0,r.useState)([]),[N,w]=(0,r.useState)(!0),[k,C]=(0,r.useState)(""),[S,D]=(0,r.useState)("all"),[z,T]=(0,r.useState)("today"),[A,O]=(0,r.useState)(!0),[P,I]=(0,r.useState)(30),{lastMessage:E,connectionStatus:R}=useWebSocket("ws://localhost:3001/admin/orders",{enabled:A,reconnectInterval:5e3,reconnectAttempts:5});(0,r.useEffect)(()=>{a||t&&"admin"===t.role||e.push("/admin/login")},[t,a,e]),(0,r.useEffect)(()=>{fetchDashboardData()},[]),(0,r.useEffect)(()=>{if(E){let e=JSON.parse(E.data);handleWebSocketMessage(e)}},[E]),(0,r.useEffect)(()=>{if(A){let e=setInterval(()=>{fetchDashboardData()},1e3*P);return()=>clearInterval(e)}},[A,P]);let fetchDashboardData=async()=>{try{let e=await fetch("/api/admin/dashboard",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("adminToken"))}});if(e.ok){let t=await e.json();b(t.stats),v(t.orders)}}catch(e){}finally{w(!1)}},handleWebSocketMessage=e=>{switch(e.type){case"new_order":v(t=>[e.order,...t]),b(t=>t?{...t,totalOrders:t.totalOrders+1,activeOrders:t.activeOrders+1,recentOrders:[e.order,...t.recentOrders.slice(0,9)]}:null);break;case"order_status_update":v(t=>t.map(t=>t.id===e.orderId?{...t,status:e.status,estimatedTime:e.estimatedTime}:t));break;case"payment_update":v(t=>t.map(t=>t.id===e.orderId?{...t,paymentStatus:e.paymentStatus}:t))}},updateOrderStatus=async(e,t)=>{try{let a=await fetch("/api/admin/orders/".concat(e,"/status"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("adminToken"))},body:JSON.stringify({status:t})});a.ok&&v(a=>a.map(a=>a.id===e?{...a,status:t}:a))}catch(e){}},exportData=e=>{let t=y.map(e=>({id:e.id,customer:e.customerName,total:e.total,status:e.status,paymentStatus:e.paymentStatus,paymentMethod:e.paymentMethod,createdAt:e.createdAt}));if("csv"===e){let e=[["ID","Cliente","Total","Status","Pagamento","M\xe9todo","Data"],...t.map(e=>Object.values(e))].map(e=>e.join(",")).join("\n"),a=new Blob([e],{type:"text/csv"}),s=URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download="orders-".concat(new Date().toISOString().split("T")[0],".csv"),r.click()}else{let e=JSON.stringify(t,null,2),a=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download="orders-".concat(new Date().toISOString().split("T")[0],".json"),r.click()}},Z=y.filter(e=>{let t=e.customerName.toLowerCase().includes(k.toLowerCase())||e.id.toLowerCase().includes(k.toLowerCase()),a="all"===S||e.status===S;return t&&a}),getStatusColor=e=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",preparing:"bg-purple-100 text-purple-800",ready:"bg-green-100 text-green-800",delivered:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"})[e],getPaymentStatusColor=e=>({pending:"bg-orange-100 text-orange-800",paid:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"})[e];return a||N?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-coxinha-orange"})}):t&&"admin"===t.role?(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-coxinha-light to-orange-50",children:[(0,s.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b sticky top-0 z-10",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-coxinha-dark",children:"Dashboard Admin - Vai Coxinha"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("open"===R?"bg-green-500":"connecting"===R?"bg-yellow-500":"bg-red-500")}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"open"===R?"Conectado":"connecting"===R?"Conectando...":"Desconectado"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("label",{className:"text-sm text-gray-600",children:"Auto Atualizar"}),(0,s.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>O(!A),className:A?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 mr-2 ".concat(A?"animate-spin":"")}),A?"Auto Atualizar: ON":"Auto Atualizar: OFF"]}),(0,s.jsxs)(o.z,{variant:"outline",size:"sm",onClick:fetchDashboardData,disabled:N,children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Atualizar"]})]}),(0,s.jsx)(o.z,{size:"sm",onClick:()=>e.push("/admin/orders"),children:"\uD83D\uDCCB Ver Todos Pedidos"}),(0,s.jsx)(o.z,{size:"sm",onClick:()=>e.push("/admin/products"),children:"\uD83D\uDECD️ Gerenciar Produtos"})]})]})})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)(l.W,{className:"p-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Per\xedodo"}),(0,s.jsxs)("select",{value:z,onChange:e=>T(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-coxinha-primary",children:[(0,s.jsx)("option",{value:"today",children:"Hoje"}),(0,s.jsx)("option",{value:"week",children:"Esta Semana"}),(0,s.jsx)("option",{value:"month",children:"Este M\xeas"}),(0,s.jsx)("option",{value:"year",children:"Este Ano"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,s.jsxs)("select",{value:S,onChange:e=>D(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-coxinha-primary",children:[(0,s.jsx)("option",{value:"all",children:"Todos"}),(0,s.jsx)("option",{value:"pending",children:"Pendente"}),(0,s.jsx)("option",{value:"confirmed",children:"Confirmado"}),(0,s.jsx)("option",{value:"preparing",children:"Preparando"}),(0,s.jsx)("option",{value:"ready",children:"Pronto"}),(0,s.jsx)("option",{value:"delivered",children:"Entregue"}),(0,s.jsx)("option",{value:"cancelled",children:"Cancelado"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar"}),(0,s.jsx)("input",{type:"text",placeholder:"Cliente ou ID do pedido",value:k,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-coxinha-primary"})]}),(0,s.jsxs)("div",{className:"flex items-end space-x-2",children:[(0,s.jsx)(o.z,{onClick:()=>exportData("csv"),className:"flex-1",children:"\uD83D\uDCCA Exportar CSV"}),(0,s.jsx)(o.z,{onClick:()=>exportData("json"),className:"flex-1",children:"\uD83D\uDCC4 Exportar JSON"})]})]})})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)("div",{children:(0,s.jsxs)(i.Zb,{className:"p-6 text-center hover:scale-105 transition-transform",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-coxinha-primary mb-2",children:(null==j?void 0:j.totalOrders)||0}),(0,s.jsx)("div",{className:"text-gray-600",children:"Total de Pedidos"}),(0,s.jsxs)("div",{className:"text-sm text-green-600 mt-1",children:[(0,s.jsx)(d.Z,{className:"inline w-4 h-4 mr-1"}),"+12% vs ontem"]})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)(i.Zb,{className:"p-6 text-center hover:scale-105 transition-transform",children:[(0,s.jsxs)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["R$ ",(null==j?void 0:j.totalRevenue)||0]}),(0,s.jsx)("div",{className:"text-gray-600",children:"Faturamento Total"}),(0,s.jsxs)("div",{className:"text-sm text-green-600 mt-1",children:[(0,s.jsx)(d.Z,{className:"inline w-4 h-4 mr-1"}),"+8% vs ontem"]})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)(i.Zb,{className:"p-6 text-center hover:scale-105 transition-transform",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:(null==j?void 0:j.activeOrders)||0}),(0,s.jsx)("div",{className:"text-gray-600",children:"Pedidos Ativos"}),(0,s.jsxs)("div",{className:"text-sm text-orange-600 mt-1",children:[(0,s.jsx)(m.Z,{className:"inline w-4 h-4 mr-1"}),"Em prepara\xe7\xe3o"]})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)(i.Zb,{className:"p-6 text-center hover:scale-105 transition-transform",children:[(0,s.jsxs)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:["R$ ",(null==j?void 0:j.averageOrderValue)||0]}),(0,s.jsx)("div",{className:"text-gray-600",children:"Ticket M\xe9dio"}),(0,s.jsxs)("div",{className:"text-sm text-purple-600 mt-1",children:[(0,s.jsx)(x.Z,{className:"inline w-4 h-4 mr-1"}),"Por pedido"]})]})})]}),(0,s.jsx)("div",{children:(0,s.jsxs)(l.W,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-coxinha-dark",children:"Pedidos Recentes"}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[Z.length," pedido(s) encontrado(s)"]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Pedido"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Cliente"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Total"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Status"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Pagamento"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Tempo"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"A\xe7\xf5es"})]})}),(0,s.jsx)("tbody",{children:Z.slice(0,10).map(t=>(0,s.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-semibold text-gray-900",children:["#",t.id.slice(-6)]}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:(0,g.o)(t.createdAt)})]})}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold text-gray-900",children:t.customerName}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:t.customerPhone})]})}),(0,s.jsxs)("td",{className:"py-3 px-4",children:[(0,s.jsx)("div",{className:"font-semibold text-gray-900",children:(0,g.x)(t.total)}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[t.items.length," item(s)"]})]}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsxs)("select",{value:t.status,onChange:e=>updateOrderStatus(t.id,e.target.value),className:"px-2 py-1 rounded-full text-xs font-medium border-0 ".concat(getStatusColor(t.status)),children:[(0,s.jsx)("option",{value:"pending",children:"Pendente"}),(0,s.jsx)("option",{value:"confirmed",children:"Confirmado"}),(0,s.jsx)("option",{value:"preparing",children:"Preparando"}),(0,s.jsx)("option",{value:"ready",children:"Pronto"}),(0,s.jsx)("option",{value:"delivered",children:"Entregue"}),(0,s.jsx)("option",{value:"cancelled",children:"Cancelado"})]})}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(getPaymentStatusColor(t.paymentStatus)),children:"paid"===t.paymentStatus?"Pago":"pending"===t.paymentStatus?"Pendente":"Falhou"}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"pix"===t.paymentMethod?"PIX":"card"===t.paymentMethod?"Cart\xe3o":"Dinheiro"})]})}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsxs)("div",{className:"text-sm text-gray-900",children:[t.estimatedTime," min"]})}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(o.z,{size:"sm",onClick:()=>e.push("/admin/orders/".concat(t.id)),children:"\uD83D\uDC41️ Ver"}),(0,s.jsx)(o.z,{size:"sm",variant:"destructive",onClick:()=>updateOrderStatus(t.id,"cancelled"),disabled:"delivered"===t.status||"cancelled"===t.status,children:"❌ Cancelar"})]})})]},t.id))})]})}),0===Z.length&&(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Nenhum pedido encontrado com os filtros aplicados."})]})}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsxs)(l.W,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-coxinha-dark mb-4",children:"A\xe7\xf5es R\xe1pidas"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)(o.z,{onClick:()=>e.push("/admin/products"),className:"flex flex-col items-center space-y-2 p-4",children:[(0,s.jsx)(u.Z,{className:"w-8 h-8 text-coxinha-primary"}),(0,s.jsx)("span",{children:"Gerenciar Produtos"})]}),(0,s.jsxs)(o.z,{onClick:()=>e.push("/admin/categories"),className:"flex flex-col items-center space-y-2 p-4",children:[(0,s.jsx)(h.Z,{className:"w-8 h-8 text-green-600"}),(0,s.jsx)("span",{children:"Categorias"})]}),(0,s.jsxs)(o.z,{onClick:()=>e.push("/admin/analytics"),className:"flex flex-col items-center space-y-2 p-4",children:[(0,s.jsx)(f.Z,{className:"w-8 h-8 text-purple-600"}),(0,s.jsx)("span",{children:"An\xe1lises"})]}),(0,s.jsxs)(o.z,{onClick:()=>e.push("/admin/settings"),className:"flex flex-col items-center space-y-2 p-4",children:[(0,s.jsx)(p.Z,{className:"w-8 h-8 text-orange-600"}),(0,s.jsx)("span",{children:"Configura\xe7\xf5es"})]})]})]})})]})]}):null}},7827:function(e,t,a){a.d(t,{h:function(){return Header}});var s=a(7437),r=a(9738),n=a.n(r),i=a(2265),l=a(1396),o=a.n(l),c=a(5373),d=a(6712),m=a(8004),x=a(2549),u=a(4891),h=a(9883),f=a(5367),p=a(5343),g=a(1012),j=a(5925);let CartSidebar=e=>{let{isOpen:t,onClose:a}=e,{items:r,updateQuantity:n,removeFromCart:i,totalPrice:l,totalItems:m}=(0,c.j)(),handleQuantityChange=(e,t)=>{0===t?(i(e),j.ZP.success("Item removido do carrinho")):n(e,t)};return t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 transition-opacity",onClick:a}),(0,s.jsx)("div",{className:"fixed right-0 top-0 h-full w-full max-w-md bg-white z-50 shadow-2xl transform transition-transform",children:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-coxinha-primary to-coxinha-secondary text-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(d.Z,{className:"w-6 h-6"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Seu Carrinho"}),(0,s.jsxs)("p",{className:"text-sm opacity-90",children:[m," ",1===m?"item":"itens"]})]})]}),(0,s.jsx)("button",{onClick:a,className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center hover:bg-white/30 transition-colors",children:(0,s.jsx)(x.Z,{className:"w-5 h-5"})})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===r.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[(0,s.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(d.Z,{className:"w-12 h-12 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Carrinho vazio"}),(0,s.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione algumas coxinhas deliciosas!"}),(0,s.jsx)(p.a,{onClick:a,className:"bg-coxinha-primary text-white px-6 py-3 rounded-full font-semibold",children:"Ver Card\xe1pio"})]}):(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[r.map((e,t)=>(0,s.jsx)(g.S,{delay:.1*t,children:(0,s.jsx)("div",{className:"bg-gray-50 rounded-2xl p-4 border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF57"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 text-sm line-clamp-1",children:e.name}),(0,s.jsxs)("p",{className:"text-lg font-bold text-coxinha-primary",children:["R$ ",e.price.toFixed(2).replace(".",",")]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,s.jsx)("button",{onClick:()=>handleQuantityChange(e.id,e.quantity-1),className:"w-8 h-8 rounded-full bg-white border border-gray-200 flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,s.jsx)(u.Z,{className:"w-4 h-4"})}),(0,s.jsx)("span",{className:"w-8 text-center font-semibold text-sm",children:e.quantity}),(0,s.jsx)("button",{onClick:()=>handleQuantityChange(e.id,e.quantity+1),className:"w-8 h-8 rounded-full bg-coxinha-primary text-white flex items-center justify-center hover:bg-coxinha-secondary transition-colors",children:(0,s.jsx)(h.Z,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>i(e.id),className:"w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center hover:bg-red-200 transition-colors ml-auto",children:(0,s.jsx)(f.Z,{className:"w-4 h-4"})})]})]})]})})},e.id)),l>=25&&(0,s.jsx)(g.S,{delay:.3,children:(0,s.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"text-green-600 text-lg",children:"\uD83C\uDF89"}),(0,s.jsx)("h4",{className:"font-semibold text-green-800",children:"Parab\xe9ns!"})]}),(0,s.jsxs)("p",{className:"text-sm text-green-700",children:["Voc\xea ganhou ",(0,s.jsx)("strong",{children:"frete gr\xe1tis"})," neste pedido!"]})]})})]})}),r.length>0&&(0,s.jsxs)("div",{className:"border-t border-gray-200 p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{children:"Subtotal:"}),(0,s.jsxs)("span",{children:["R$ ",l.toFixed(2).replace(".",",")]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{children:"Entrega:"}),(0,s.jsx)("span",{className:"text-green-600 font-semibold",children:"GR\xc1TIS"})]}),(0,s.jsxs)("div",{className:"border-t pt-2 flex justify-between text-lg font-bold text-coxinha-primary",children:[(0,s.jsx)("span",{children:"Total:"}),(0,s.jsxs)("span",{children:["R$ ",l.toFixed(2).replace(".",",")]})]})]}),(0,s.jsx)(o(),{href:"/carrinho",onClick:a,children:(0,s.jsx)(p.a,{className:"w-full bg-coxinha-primary hover:bg-coxinha-secondary text-white font-bold py-4 rounded-2xl text-lg shadow-lg",children:"Finalizar Pedido"})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Pagamento seguro com PIX • Entrega em at\xe9 30 minutos"})]})]})})]}):null};function Header(){let[e,t]=(0,i.useState)(!1),[a,r]=(0,i.useState)(!1),[l,u]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),{totalItems:p}=(0,c.j)();(0,i.useEffect)(()=>{u(!0)},[]),(0,i.useEffect)(()=>{if(!l)return;let handleScroll=()=>{r(window.scrollY>10)};return window.addEventListener("scroll",handleScroll),()=>window.removeEventListener("scroll",handleScroll)},[l]);let g=p||0;return l?(0,s.jsxs)("header",{className:"jsx-978a4c8f21bd887d "+"fixed top-0 left-0 right-0 z-50 transition-all duration-300 ".concat(a?"bg-white/95 backdrop-blur-md shadow-lg":"bg-transparent"),children:[(0,s.jsxs)("div",{className:"jsx-978a4c8f21bd887d container mx-auto px-4 py-4",children:[(0,s.jsxs)("div",{className:"jsx-978a4c8f21bd887d flex items-center justify-between",children:[(0,s.jsxs)(o(),{href:"/",className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"jsx-978a4c8f21bd887d w-12 h-12 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg hover:scale-110 hover:rotate-10 transition-transform duration-200 cursor-pointer active:scale-95",children:(0,s.jsx)("span",{className:"jsx-978a4c8f21bd887d text-white text-xl font-bold",children:"\uD83E\uDD5F"})}),(0,s.jsx)("span",{className:"jsx-978a4c8f21bd887d "+"text-2xl font-bold ".concat(a?"text-coxinha-dark":"text-white"),children:"Vai Coxinha"})]}),(0,s.jsxs)("nav",{className:"jsx-978a4c8f21bd887d hidden md:flex items-center space-x-8",children:[(0,s.jsx)(o(),{href:"/",className:"font-medium transition-colors ".concat(a?"text-gray-700 hover:text-coxinha-primary":"text-white hover:text-yellow-300"),children:"In\xedcio"}),(0,s.jsx)(o(),{href:"/menu",className:"font-medium transition-colors ".concat(a?"text-gray-700 hover:text-coxinha-primary":"text-white hover:text-yellow-300"),children:"Card\xe1pio"}),(0,s.jsx)(o(),{href:"/about",className:"font-medium transition-colors ".concat(a?"text-gray-700 hover:text-coxinha-primary":"text-white hover:text-yellow-300"),children:"Sobre"}),(0,s.jsx)(o(),{href:"/contact",className:"font-medium transition-colors ".concat(a?"text-gray-700 hover:text-coxinha-primary":"text-white hover:text-yellow-300"),children:"Contato"})]}),(0,s.jsxs)("div",{className:"jsx-978a4c8f21bd887d flex items-center space-x-4",children:[(0,s.jsxs)("button",{onClick:()=>f(!0),className:"jsx-978a4c8f21bd887d "+"relative p-2 rounded-full transition-colors ".concat(a?"bg-gray-100 hover:bg-gray-200 text-gray-700":"bg-white/20 hover:bg-white/30 text-white"),children:[(0,s.jsx)(d.Z,{className:"w-6 h-6"}),g>0&&(0,s.jsx)("span",{className:"jsx-978a4c8f21bd887d absolute -top-1 -right-1 bg-coxinha-primary text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-scale-in",children:g})]}),(0,s.jsx)("button",{onClick:()=>t(!e),className:"jsx-978a4c8f21bd887d "+"md:hidden p-2 rounded-full transition-colors ".concat(a?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/20"),children:e?(0,s.jsx)(x.Z,{className:"w-6 h-6"}):(0,s.jsx)(m.Z,{className:"w-6 h-6"})})]})]}),e&&(0,s.jsx)("nav",{className:"jsx-978a4c8f21bd887d md:hidden mt-4 pb-4 border-t border-gray-200 animate-fade-in",children:(0,s.jsxs)("div",{className:"jsx-978a4c8f21bd887d flex flex-col space-y-4 pt-4",children:[(0,s.jsx)(o(),{href:"/",className:"font-medium text-gray-700 hover:text-coxinha-primary transition-colors",children:"In\xedcio"}),(0,s.jsx)(o(),{href:"/menu",className:"font-medium text-gray-700 hover:text-coxinha-primary transition-colors",children:"Card\xe1pio"}),(0,s.jsx)(o(),{href:"/about",className:"font-medium text-gray-700 hover:text-coxinha-primary transition-colors",children:"Sobre"}),(0,s.jsx)(o(),{href:"/contact",className:"font-medium text-gray-700 hover:text-coxinha-primary transition-colors",children:"Contato"})]})})]}),(0,s.jsx)(n(),{id:"978a4c8f21bd887d",children:"@-webkit-keyframes scale-in{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-moz-keyframes scale-in{0%{-moz-transform:scale(0);transform:scale(0)}100%{-moz-transform:scale(1);transform:scale(1)}}@-o-keyframes scale-in{0%{-o-transform:scale(0);transform:scale(0)}100%{-o-transform:scale(1);transform:scale(1)}}@keyframes scale-in{0%{-webkit-transform:scale(0);-moz-transform:scale(0);-o-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}.animate-scale-in.jsx-978a4c8f21bd887d{-webkit-animation:scale-in.2s ease-out;-moz-animation:scale-in.2s ease-out;-o-animation:scale-in.2s ease-out;animation:scale-in.2s ease-out}@-webkit-keyframes fade-in{from{opacity:0;height:0}to{opacity:1;height:auto}}@-moz-keyframes fade-in{from{opacity:0;height:0}to{opacity:1;height:auto}}@-o-keyframes fade-in{from{opacity:0;height:0}to{opacity:1;height:auto}}@keyframes fade-in{from{opacity:0;height:0}to{opacity:1;height:auto}}.animate-fade-in.jsx-978a4c8f21bd887d{-webkit-animation:fade-in.3s ease-out;-moz-animation:fade-in.3s ease-out;-o-animation:fade-in.3s ease-out;animation:fade-in.3s ease-out}"}),(0,s.jsx)(CartSidebar,{isOpen:h,onClose:()=>f(!1)})]}):(0,s.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-transparent",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:(0,s.jsx)("span",{className:"text-white text-xl font-bold",children:"\uD83E\uDD5F"})}),(0,s.jsx)("span",{className:"text-2xl font-bold text-white",children:"Vai Coxinha"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("span",{className:"p-2 rounded-full bg-white/20 text-white",children:(0,s.jsx)(d.Z,{className:"w-6 h-6"})}),(0,s.jsx)("button",{className:"p-2 rounded-full text-white",children:(0,s.jsx)(m.Z,{className:"w-6 h-6"})})]})]})})})}},1012:function(e,t,a){a.d(t,{S:function(){return BlurFade}});var s=a(7437),r=a(2265),n=a(1628);let BlurFade=e=>{let{children:t,className:a,delay:i=0,duration:l=.5,offset:o=20,direction:c="up"}=e,d=(0,r.useRef)(null),[m,x]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=new IntersectionObserver(t=>{let[a]=t;a.isIntersecting&&(x(!0),e.unobserve(a.target))},{threshold:.1});return d.current&&e.observe(d.current),()=>{d.current&&e.unobserve(d.current)}},[]),(0,s.jsx)("div",{ref:d,className:(0,n.cn)(a),style:{transform:(()=>{if(!m)switch(c){case"up":default:return"translateY(".concat(o,"px)");case"down":return"translateY(-".concat(o,"px)");case"left":return"translateX(".concat(o,"px)");case"right":return"translateX(-".concat(o,"px)")}return"translate(0)"})(),opacity:m?1:0,filter:m?"blur(0px)":"blur(4px)",transition:"all ".concat(l,"s ease-out ").concat(i,"s")},children:t})}},3611:function(e,t,a){a.d(t,{z:function(){return i}});var s=a(7437),r=a(2265),n=a(1628);let i=r.forwardRef((e,t)=>{let{className:a,variant:r="default",size:i="default",...l}=e;return(0,s.jsx)("button",{className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[r],{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[i],a),ref:t,...l})});i.displayName="Button"},9598:function(e,t,a){a.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var s=a(7437),r=a(2265),n=a(1628);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});m.displayName="CardFooter"},7686:function(e,t,a){a.d(t,{W:function(){return GlassCard}});var s=a(7437);a(2265);var r=a(1628);let GlassCard=e=>{let{children:t,className:a,variant:n="default"}=e;return(0,s.jsx)("div",{className:(0,r.cn)("rounded-2xl p-6 transition-all duration-300",{default:"bg-white/10 backdrop-blur-sm border border-white/20",elevated:"bg-white/20 backdrop-blur-md border border-white/30 shadow-xl",flat:"bg-white/5 backdrop-blur-sm border border-white/10"}[n],a),children:t})}},5343:function(e,t,a){a.d(t,{a:function(){return RippleButton}});var s=a(7437),r=a(2265),n=a(1628);let RippleButton=e=>{let{children:t,className:a,rippleColor:i="rgba(255, 255, 255, 0.6)",duration:l=600,onClick:o,...c}=e,[d,m]=(0,r.useState)([]);return(0,s.jsxs)("button",{className:(0,n.cn)("relative overflow-hidden transition-all duration-300",a),onClick:e=>{let t=e.currentTarget,a=t.getBoundingClientRect(),s=e.clientX-a.left,r=e.clientY-a.top,n={x:s,y:r,id:Date.now()};m(e=>[...e,n]),setTimeout(()=>{m(e=>e.filter(e=>e.id!==n.id))},l),o&&o(e)},...c,children:[t,d.map(e=>(0,s.jsx)("span",{className:"absolute rounded-full pointer-events-none animate-ping",style:{left:e.x-10,top:e.y-10,width:20,height:20,backgroundColor:i,animationDuration:"".concat(l,"ms")}},e.id))]})}},2458:function(e,t,a){a.d(t,{a:function(){return ShimmerButton}});var s=a(7437),r=a(9738),n=a.n(r);a(2265);var i=a(1628);let ShimmerButton=e=>{let{children:t,className:a,shimmerColor:r="#ffffff",duration:l="3s",borderRadius:o="8px",...c}=e;return(0,s.jsxs)("button",{style:{borderRadius:o},...c,className:"jsx-4f57d6e22a251548 "+(c&&null!=c.className&&c.className||(0,i.cn)("relative inline-flex items-center justify-center rounded-xl font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 overflow-hidden",a)||""),children:[(0,s.jsx)("span",{className:"jsx-4f57d6e22a251548 relative z-10",children:t}),(0,s.jsx)("div",{style:{background:"linear-gradient(90deg, transparent, ".concat(r,", transparent)"),animation:"shimmer ".concat(l," infinite linear")},className:"jsx-4f57d6e22a251548 absolute inset-0 -z-10 bg-gradient-to-r opacity-0 hover:opacity-20 transition-opacity duration-300"}),(0,s.jsx)(n(),{id:"4f57d6e22a251548",children:"@-webkit-keyframes shimmer{0%{-webkit-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(100%);transform:translatex(100%)}}@-moz-keyframes shimmer{0%{-moz-transform:translatex(-100%);transform:translatex(-100%)}100%{-moz-transform:translatex(100%);transform:translatex(100%)}}@-o-keyframes shimmer{0%{-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-o-transform:translatex(100%);transform:translatex(100%)}}@keyframes shimmer{0%{-webkit-transform:translatex(-100%);-moz-transform:translatex(-100%);-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%)}}"})]})}},5373:function(e,t,a){a.d(t,{Z:function(){return CartProvider},j:function(){return useCart}});var s=a(7437),r=a(2265);let n=(0,r.createContext)(void 0);function CartProvider(e){let{children:t}=e,[a,i]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=localStorage.getItem("vai-coxinha-cart");e&&i(JSON.parse(e))},[]),(0,r.useEffect)(()=>{localStorage.setItem("vai-coxinha-cart",JSON.stringify(a))},[a]);let removeFromCart=e=>{i(t=>t.filter(t=>t.id!==e))},l=a.reduce((e,t)=>e+t.quantity,0),o=a.reduce((e,t)=>e+t.price*t.quantity,0);return(0,s.jsx)(n.Provider,{value:{items:a,addToCart:e=>{i(t=>{let a=t.find(t=>t.id===e.id);return a?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}]})},removeFromCart,updateQuantity:(e,t)=>{if(t<=0){removeFromCart(e);return}i(a=>a.map(a=>a.id===e?{...a,quantity:t}:a))},clearCart:()=>{i([])},totalItems:l,totalPrice:o},children:t})}function useCart(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},1628:function(e,t,a){a.d(t,{cn:function(){return cn},o:function(){return formatDateTime},x:function(){return formatCurrency}});var s=a(7042),r=a(4769);function cn(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}function formatCurrency(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function formatDateTime(e){let t="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}}}]);