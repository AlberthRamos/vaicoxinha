(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{8883:function(e,s,a){Promise.resolve().then(a.bind(a,8026))},8026:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return CheckoutPage}});var r=a(7437),t=a(2265),n=a(7827),l=a(5373),i=a(5343),o=a(1012),c=a(6142),d=a(1738),x=a(6224),m=a(3008),h=a(3067),u=a(5925);let CheckoutFlow=e=>{let{onComplete:s,onBack:a}=e,{items:n,totalPrice:g,clearCart:p}=(0,l.j)(),[b,f]=(0,t.useState)(1),[j,y]=(0,t.useState)({street:"",number:"",complement:"",neighborhood:"",city:"S\xe3o Paulo",zipCode:""}),[N,v]=(0,t.useState)(""),[w,C]=(0,t.useState)(!1),generatePixCode=()=>{let e="00020126580014BR.GOV.BCB.PIX0136".concat(Math.random().toString(36).substring(2,15),"52040000530398654").concat(g.toFixed(2),"5802BR5925Vai Coxinha Delivery6009SAO PAULO62070503***6304");return e},handlePaymentComplete=async()=>{C(!0),await new Promise(e=>setTimeout(e,2e3)),u.ZP.success("Pagamento confirmado! Seu pedido est\xe1 sendo preparado.",{icon:"\uD83C\uDF89",duration:4e3,style:{background:"#22C55E",color:"#fff",borderRadius:"12px"}}),p(),C(!1),s&&s()};return(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsx)("div",{className:"flex items-center justify-center mb-8",children:(0,r.jsx)("div",{className:"flex items-center space-x-4",children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold transition-all ".concat(b>=e?"bg-coxinha-primary text-white":"bg-gray-200 text-gray-500"),children:b>e?(0,r.jsx)(m.Z,{className:"w-5 h-5"}):e}),e<3&&(0,r.jsx)("div",{className:"w-16 h-1 mx-2 transition-all ".concat(b>e?"bg-coxinha-primary":"bg-gray-200")})]},e))})}),(0,r.jsx)("div",{className:"flex justify-center mb-8",children:(0,r.jsxs)("div",{className:"flex items-center space-x-16 text-sm font-medium",children:[(0,r.jsx)("span",{className:b>=1?"text-coxinha-primary":"text-gray-500",children:"Endere\xe7o"}),(0,r.jsx)("span",{className:b>=2?"text-coxinha-primary":"text-gray-500",children:"Pagamento"}),(0,r.jsx)("span",{className:b>=3?"text-coxinha-primary":"text-gray-500",children:"Confirma\xe7\xe3o"})]})}),(0,r.jsxs)(o.S,{children:[1===b&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(c.Z,{className:"w-8 h-8 text-blue-600"})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Endere\xe7o de Entrega"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Onde voc\xea quer receber seu pedido?"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rua/Avenida *"}),(0,r.jsx)("input",{type:"text",value:j.street,onChange:e=>y({...j,street:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-coxinha-primary focus:border-transparent transition-all",placeholder:"Ex: Rua das Flores"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero *"}),(0,r.jsx)("input",{type:"text",value:j.number,onChange:e=>y({...j,number:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-coxinha-primary focus:border-transparent transition-all",placeholder:"123"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complemento"}),(0,r.jsx)("input",{type:"text",value:j.complement,onChange:e=>y({...j,complement:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-coxinha-primary focus:border-transparent transition-all",placeholder:"Apto 101, Bloco A"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bairro *"}),(0,r.jsx)("input",{type:"text",value:j.neighborhood,onChange:e=>y({...j,neighborhood:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-coxinha-primary focus:border-transparent transition-all",placeholder:"Centro"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEP *"}),(0,r.jsx)("input",{type:"text",value:j.zipCode,onChange:e=>y({...j,zipCode:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-coxinha-primary focus:border-transparent transition-all",placeholder:"01234-567"})]})]})]})]}),2===b&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(d.Z,{className:"w-8 h-8 text-green-600"})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Pagamento PIX"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Pagamento seguro com Vai Coxinha - confirma\xe7\xe3o imediata"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("div",{className:"w-48 h-48 bg-gray-100 rounded-2xl mx-auto mb-4 flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-6xl",children:"\uD83D\uDCF1"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Escaneie o QR Code"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Abra o app do seu banco e escaneie o c\xf3digo QR acima"})]}),(0,r.jsxs)("div",{className:"border-t pt-6",children:[(0,r.jsx)("h4",{className:"font-semibold mb-3",children:"Ou copie o c\xf3digo PIX:"}),(0,r.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("code",{className:"text-xs text-gray-600 break-all flex-1 mr-3",children:N||"Gerando c\xf3digo PIX..."}),(0,r.jsxs)(i.a,{onClick:()=>{navigator.clipboard.writeText(N),u.ZP.success("C\xf3digo PIX copiado!",{icon:"\uD83D\uDCCB",style:{background:"#3B82F6",color:"#fff",borderRadius:"12px"}})},className:"bg-blue-500 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2",disabled:!N,children:[(0,r.jsx)(x.Z,{className:"w-4 h-4"}),"Copiar"]})]})})]}),(0,r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6",children:(0,r.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,r.jsx)("strong",{children:"\uD83D\uDCA1 Dica:"})," Com PIX seu pedido \xe9 confirmado na hora e chega mais r\xe1pido!"]})}),(0,r.jsx)(i.a,{onClick:handlePaymentComplete,disabled:w,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-2xl text-lg",children:w?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processando Pagamento..."]}):"Confirmar Pagamento"})]})]})]},b),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-coxinha-primary to-coxinha-secondary text-white p-6 rounded-2xl mb-6",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4",children:"\uD83C\uDFAF Resumo do Pedido"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm opacity-90",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:["Itens (",n.length,"):"]}),(0,r.jsxs)("span",{children:["R$ ",g.toFixed(2).replace(".",",")]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Entrega:"}),(0,r.jsx)("span",{children:"GR\xc1TIS"})]}),b>1&&(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{children:"Endere\xe7o:"}),(0,r.jsxs)("span",{className:"text-right",children:[j.street,", ",j.number,(0,r.jsx)("br",{}),j.neighborhood," - ",j.city]})]})]}),(0,r.jsxs)("div",{className:"border-t border-white/20 pt-2 mt-2 flex justify-between text-xl font-bold",children:[(0,r.jsx)("span",{children:"Total:"}),(0,r.jsxs)("span",{children:["R$ ",g.toFixed(2).replace(".",",")]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)(i.a,{onClick:1===b?a:()=>f(b-1),className:"flex items-center gap-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",children:[(0,r.jsx)(h.Z,{className:"w-4 h-4"}),"Voltar"]}),b<2&&(0,r.jsx)(i.a,{onClick:()=>{if(1===b){if(!j.street||!j.number||!j.neighborhood||!j.zipCode){u.ZP.error("Preencha todos os campos obrigat\xf3rios do endere\xe7o");return}f(2)}else if(2===b){let e=generatePixCode();v(e),f(3)}},className:"bg-coxinha-primary hover:bg-coxinha-secondary text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 hover:scale-105 shadow-lg",children:"Continuar"})]})]})};var g=a(4033);function CheckoutPage(){let e=(0,g.useRouter)();return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-coxinha-light via-orange-50 to-white",children:[(0,r.jsx)(n.h,{}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-8 pt-24",children:(0,r.jsx)(CheckoutFlow,{onComplete:()=>{e.push("/acompanhamento")},onBack:()=>{e.back()}})})]})}}},function(e){e.O(0,[216,592,744],function(){return e(e.s=8883)}),_N_E=e.O()}]);