(()=>{var e={};e.id=521,e.ids=[521],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7310:e=>{"use strict";e.exports=require("url")},5496:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=t(7096),s=t(6132),n=t(7284),i=t.n(n),o=t(2564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(a,l);let c=["",{children:["carrinho",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2277)),"/Users/brokkr/Desktop/Vai Coxinha/vai-coxinha/frontend/app/carrinho/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4772)),"/Users/brokkr/Desktop/Vai Coxinha/vai-coxinha/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/brokkr/Desktop/Vai Coxinha/vai-coxinha/frontend/app/carrinho/page.tsx"],x="/carrinho/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/carrinho/page",pathname:"/carrinho",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8253:(e,a,t)=>{Promise.resolve().then(t.bind(t,6010))},6010:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>CarrinhoPage});var r=t(784),s=t(9885),n=t(3281),i=t(4901),o=t(9751),l=t(7825),c=t(7114),d=t(345);function CarrinhoPage(){let{items:e,updateQuantity:a,removeFromCart:t,totalPrice:x}=(0,i.j)(),[m,u]=(0,s.useState)(1),[h,p]=(0,s.useState)({street:"",number:"",complement:"",neighborhood:"",city:"S\xe3o Paulo",zipCode:""}),[g,j]=(0,s.useState)(!1),b=(0,c.useRouter)(),v=x+8.9,handleNextStep=()=>{if(1===m&&0===e.length){d.ZP.error("Adicione itens ao carrinho primeiro!");return}if(2===m&&(!h.street||!h.number||!h.neighborhood||!h.zipCode)){d.ZP.error("Preencha todos os campos obrigat\xf3rios do endere\xe7o");return}m<3?u(m+1):b.push("/checkout")};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-coxinha-light to-orange-50",children:[r.jsx(n.h,{cartItemsCount:e.length}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(l.S,{children:r.jsx(GlassCard,{className:"mb-8",children:r.jsx("div",{className:"flex items-center justify-between",children:[{number:1,label:"Carrinho"},{number:2,label:"Endere\xe7o"},{number:3,label:"Pagamento"}].map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:cn("w-8 h-8 rounded-full flex items-center justify-center font-bold",m>=e.number?"bg-coxinha-primary text-white":"bg-gray-200 text-gray-500"),children:e.number}),r.jsx("span",{className:cn("ml-2 font-medium",m>=e.number?"text-coxinha-dark":"text-gray-500"),children:e.label}),e.number<3&&r.jsx("div",{className:"w-8 h-0.5 bg-gray-300 mx-4"})]},e.number))})})}),(0,r.jsxs)(AnimatePresence,{mode:"wait",children:[1===m&&(0,r.jsxs)(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[(0,r.jsxs)(GlassCard,{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-coxinha-dark mb-6",children:"Seu Carrinho"}),0===e.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-500 mb-4",children:"Seu carrinho est\xe1 vazio!"}),r.jsx(GlassButton,{variant:"secondary",onClick:()=>window.location.href="/",children:"Ver Produtos"})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[e.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 glass-card",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-coxinha-dark",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantidade: ",e.quantity]})]})]}),r.jsx("div",{className:"text-right",children:(0,r.jsxs)("p",{className:"font-bold text-coxinha-primary",children:["R$ ",(e.price*e.quantity).toFixed(2).replace(".",",")]})})]},e.id)),(0,r.jsxs)("div",{className:"border-t pt-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),(0,r.jsxs)("span",{children:["R$ ",x.toFixed(2).replace(".",",")]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Taxa de entrega:"}),(0,r.jsxs)("span",{children:["R$ ","8.90".replace(".",",")]})]}),(0,r.jsxs)("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[r.jsx("span",{children:"Total:"}),(0,r.jsxs)("span",{className:"text-coxinha-primary",children:["R$ ",r.jsx(NumberTicker,{value:parseFloat(v.toFixed(2))})]})]})]})]})]}),e.length>0&&r.jsx(o.a,{onClick:handleNextStep,className:"w-full",children:"Continuar para Endere\xe7o →"})]},"carrinho"),2===m&&(0,r.jsxs)(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[(0,r.jsxs)(GlassCard,{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-coxinha-dark",children:"Endere\xe7o de Entrega"}),r.jsx(o.a,{variant:"secondary",size:"sm",onClick:()=>{j(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{setTimeout(()=>{p({street:"Rua Exemplo",number:"123",complement:"",neighborhood:"Centro",city:"S\xe3o Paulo",zipCode:"01000-000"}),j(!1),d.ZP.success("Endere\xe7o encontrado!")},2e3)},e=>{j(!1),d.ZP.error("N\xe3o foi poss\xedvel obter sua localiza\xe7\xe3o")}):(j(!1),d.ZP.error("Geolocaliza\xe7\xe3o n\xe3o suportada"))},disabled:g,children:g?"\uD83D\uDCCD Buscando...":"\uD83D\uDCCD Usar minha localiza\xe7\xe3o"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(GlassInput,{placeholder:"Rua",value:h.street,onChange:e=>p({...h,street:e.target.value}),required:!0}),r.jsx(GlassInput,{placeholder:"N\xfamero",value:h.number,onChange:e=>p({...h,number:e.target.value}),required:!0}),r.jsx(GlassInput,{placeholder:"Complemento (opcional)",value:h.complement,onChange:e=>p({...h,complement:e.target.value})}),r.jsx(GlassInput,{placeholder:"Bairro",value:h.neighborhood,onChange:e=>p({...h,neighborhood:e.target.value}),required:!0}),r.jsx(GlassInput,{placeholder:"Cidade",value:h.city,onChange:e=>p({...h,city:e.target.value}),required:!0}),r.jsx(GlassInput,{placeholder:"CEP",value:h.zipCode,onChange:e=>p({...h,zipCode:e.target.value}),required:!0})]})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[r.jsx(o.a,{variant:"secondary",onClick:()=>u(m-1),className:"flex-1",children:"← Voltar"}),r.jsx(o.a,{onClick:handleNextStep,className:"flex-1",children:"Continuar para Pagamento →"})]})]},"endereco"),3===m&&(0,r.jsxs)(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[r.jsx(PixPayment,{total:v,orderId:"12345",onPaymentComplete:()=>{d.ZP.success("Pedido realizado com sucesso!");let a="CX"+Date.now().toString().slice(-6),t={id:a,items:e,total:v,address:h,status:{status:"confirmed",estimatedTime:30,lastUpdate:new Date}};localStorage.setItem("activeOrder",JSON.stringify(t)),window.dispatchEvent(new Event("storage")),setTimeout(()=>{window.location.href="/acompanhamento"},2e3)}}),r.jsx("div",{className:"flex space-x-4 mt-6",children:r.jsx(GlassButton,{variant:"secondary",onClick:()=>u(m-1),className:"flex-1",children:"← Voltar"})})]},"pagamento")]})]})]})}},2277:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=t(5153);let s=(0,r.createProxy)(String.raw`/Users/brokkr/Desktop/Vai Coxinha/vai-coxinha/frontend/app/carrinho/page.tsx`),{__esModule:n,$$typeof:i}=s,o=s.default,l=o},7114:(e,a,t)=>{e.exports=t(4979)}};var a=require("../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[849,796,528,954,896,374,751],()=>__webpack_exec__(5496));module.exports=t})();