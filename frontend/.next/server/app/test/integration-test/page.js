(()=>{var e={};e.id=281,e.ids=[281],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7310:e=>{"use strict";e.exports=require("url")},8530:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>l});var a=s(7096),r=s(6132),n=s(7284),o=s.n(n),i=s(2564),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let l=["",{children:["test",{children:["integration-test",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3598)),"/Users/brokkr/Desktop/Vai Coxinha/vai-coxinha/frontend/app/test/integration-test/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4772)),"/Users/brokkr/Desktop/Vai Coxinha/vai-coxinha/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/brokkr/Desktop/Vai Coxinha/vai-coxinha/frontend/app/test/integration-test/page.tsx"],u="/test/integration-test/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/test/integration-test/page",pathname:"/test/integration-test",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},8586:(e,t,s)=>{Promise.resolve().then(s.bind(s,1645))},1645:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>IntegrationTest});var a=s(784),r=s(9885),n=s(599),o=s(8699);function Badge({className:e,variant:t="default",...s}){return a.jsx("div",{className:(0,o.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}[t],e),...s})}var i=s(5555);let ShimmerButton=()=>null;function IntegrationTest(){let[e,t]=(0,r.useState)([{test:"Backend Connection",status:"pending"},{test:"Admin Authentication",status:"pending"},{test:"WebSocket Connection",status:"pending"},{test:"Dashboard Data Loading",status:"pending"},{test:"Magic UI Components",status:"pending"},{test:"Real-time Updates",status:"pending"}]),[s,o]=(0,r.useState)(!1),runTest=async(e,s)=>{t(t=>t.map(t=>t.test===e?{...t,status:"running"}:t));try{let a=await s();return t(t=>t.map(t=>t.test===e?{...t,status:"passed",details:a}:t)),!0}catch(s){return t(t=>t.map(t=>t.test===e?{...t,status:"failed",message:s.message}:t)),!1}},runAllTests=async()=>{o(!0),await runTest("Backend Connection",async()=>{let e=await fetch("http://localhost:3001/api/admin/auth/me",{headers:{Authorization:"Bearer test-token"}});if(!e.ok&&401!==e.status)throw Error(`Backend returned ${e.status}`);return{status:e.status}}),await runTest("Admin Authentication",async()=>{let e=await fetch("http://localhost:3001/api/admin/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"admin@vai-coxinha.com",password:"admin123"})});if(!e.ok)throw Error(`Auth failed with ${e.status}`);let t=await e.json();return localStorage.setItem("testToken",t.token),t}),await runTest("WebSocket Connection",async()=>new Promise((e,t)=>{let s=new WebSocket("ws://localhost:3001");s.onopen=()=>{s.close(),e({connected:!0})},s.onerror=()=>{t(Error("WebSocket connection failed"))},setTimeout(()=>{s.close(),t(Error("WebSocket timeout"))},5e3)})),await runTest("Dashboard Data Loading",async()=>{let e=localStorage.getItem("testToken"),t=await fetch("http://localhost:3001/api/admin/dashboard/stats",{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error(`Dashboard data failed with ${t.status}`);return await t.json()}),await runTest("Magic UI Components",async()=>({componentsAvailable:5})),await runTest("Real-time Updates",async()=>new Promise((e,t)=>{let s=new WebSocket("ws://localhost:3001"),a=!1;s.onopen=()=>{s.send(JSON.stringify({type:"auth",token:localStorage.getItem("testToken")}))},s.onmessage=t=>{let r=JSON.parse(t.data);"orderUpdate"===r.type&&(a=!0,s.close(),e({realTimeUpdate:!0}))},setTimeout(()=>{s.close(),a||e({realTimeUpdate:!1,note:"No real-time updates received"})},3e3)})),o(!1)},getStatusColor=e=>{switch(e){case"passed":return"bg-green-500";case"failed":return"bg-red-500";case"running":return"bg-yellow-500 animate-pulse";default:return"bg-gray-300"}},getStatusText=e=>{switch(e){case"passed":return"Passou";case"failed":return"Falhou";case"running":return"Executando...";default:return"Pendente"}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 p-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)(n.Zb,{className:"mb-8",children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{className:"text-2xl font-bold text-gray-800",children:"Teste de Integra\xe7\xe3o - Admin Dashboard"}),a.jsx(n.SZ,{children:"Testando a integra\xe7\xe3o completa do painel administrativo com Magic UI"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsxs)("div",{className:"flex gap-4 mb-6",children:[a.jsx(i.z,{onClick:runAllTests,disabled:s,variant:"default",children:s?"Executando Testes...":"Executar Todos os Testes"}),a.jsx(ShimmerButton,{onClick:()=>window.location.href="/admin/dashboard",children:"Ir para Dashboard"})]}),a.jsx("div",{className:"space-y-4",children:e.map((e,t)=>a.jsx(n.Zb,{className:"border-l-4 border-l-orange-400",children:(0,a.jsxs)(n.aY,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${getStatusColor(e.status)}`}),a.jsx("span",{className:"font-medium text-gray-800",children:e.test})]}),a.jsx(Badge,{variant:"passed"===e.status?"success":"failed"===e.status?"destructive":"secondary",children:getStatusText(e.status)})]}),e.message&&a.jsx("p",{className:"text-sm text-red-600 mt-2 ml-6",children:e.message}),e.details&&a.jsx("pre",{className:"text-xs text-gray-600 mt-2 ml-6 bg-gray-50 p-2 rounded overflow-auto",children:JSON.stringify(e.details,null,2)})]})},t))}),(0,a.jsxs)("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Instru\xe7\xf5es:"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:"• Certifique-se de que o backend est\xe1 rodando na porta 3001"}),a.jsx("li",{children:"• O banco de dados deve estar configurado e rodando"}),a.jsx("li",{children:"• Os testes verificam conex\xe3o, autentica\xe7\xe3o e WebSocket"}),a.jsx("li",{children:"• Componentes Magic UI s\xe3o verificados na renderiza\xe7\xe3o"})]})]})]})]})})})}},3598:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>d});var a=s(5153);let r=(0,a.createProxy)(String.raw`/Users/brokkr/Desktop/Vai Coxinha/vai-coxinha/frontend/app/test/integration-test/page.tsx`),{__esModule:n,$$typeof:o}=r,i=r.default,d=i}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[849,796,896,844],()=>__webpack_exec__(8530));module.exports=s})();